<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ti Constructor: lib/memory.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Ti Constructor
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('df/dd5/memory_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">memory.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A simple and preforment memory allocator.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d5/de8/variables_8c_source.html">variables.c</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d15/errors_8c_source.html">errors.c</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d03/structHeapItem.html">HeapItem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1b45302695680930829cac31d65e41e1" id="r_a1b45302695680930829cac31d65e41e1"><td class="memItemLeft" align="right" valign="top"><a id="a1b45302695680930829cac31d65e41e1" name="a1b45302695680930829cac31d65e41e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HEAP_SIZE</b>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:a1b45302695680930829cac31d65e41e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the calculator variable the heap is stored as. You can set this to a larger (or smaller) value if you want. <br /></td></tr>
<tr class="separator:a1b45302695680930829cac31d65e41e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33bf31228fd22e4afa06a93bfa681d5b" id="r_a33bf31228fd22e4afa06a93bfa681d5b"><td class="memItemLeft" align="right" valign="top"><a id="a33bf31228fd22e4afa06a93bfa681d5b" name="a33bf31228fd22e4afa06a93bfa681d5b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CUSTOM_HEAP_NAME</b>&#160;&#160;&#160;&quot;ConHeap&quot;</td></tr>
<tr class="memdesc:a33bf31228fd22e4afa06a93bfa681d5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">allows setting a custom heap variable name <br /></td></tr>
<tr class="separator:a33bf31228fd22e4afa06a93bfa681d5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d462dbeb5a594ac82d2827821aa5573" id="r_a2d462dbeb5a594ac82d2827821aa5573"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d462dbeb5a594ac82d2827821aa5573">purge_heap</a>()&#160;&#160;&#160;<a class="el" href="../../d5/de8/variables_8c.html#a2f62cc8750ffebff2a9eee2d2f732922">delete</a>(<a class="el" href="#aacc2cdf7bc1195adb693bf201ff2c8b6">HEAP_VAR_NAME</a>)</td></tr>
<tr class="memdesc:a2d462dbeb5a594ac82d2827821aa5573"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up the heap for when the program is closing.  <br /></td></tr>
<tr class="separator:a2d462dbeb5a594ac82d2827821aa5573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a080021f8b22b47e0e515fadb3342b6d8" id="r_a080021f8b22b47e0e515fadb3342b6d8"><td class="memItemLeft" align="right" valign="top"><a id="a080021f8b22b47e0e515fadb3342b6d8" name="a080021f8b22b47e0e515fadb3342b6d8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>__hs</b>&#160;&#160;&#160;#</td></tr>
<tr class="separator:a080021f8b22b47e0e515fadb3342b6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67674772f75f551422c1a374a8a4b79" id="r_aa67674772f75f551422c1a374a8a4b79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa67674772f75f551422c1a374a8a4b79">auto_purge_heap</a>()</td></tr>
<tr class="memdesc:aa67674772f75f551422c1a374a8a4b79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Automaticlly runs <a class="el" href="#a2d462dbeb5a594ac82d2827821aa5573" title="Cleans up the heap for when the program is closing.">purge_heap()</a> for you.  <br /></td></tr>
<tr class="separator:aa67674772f75f551422c1a374a8a4b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Heap memory locations</div></td></tr>
<tr class="memitem:a2f58e25d4dae7f2d95850d174c5f2820" id="r_a2f58e25d4dae7f2d95850d174c5f2820"><td class="memItemLeft" align="right" valign="top"><a id="a2f58e25d4dae7f2d95850d174c5f2820" name="a2f58e25d4dae7f2d95850d174c5f2820"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HEAP_LOCATION</b>&#160;&#160;&#160;0x83E5</td></tr>
<tr class="memdesc:a2f58e25d4dae7f2d95850d174c5f2820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory location of heap related information. <br /></td></tr>
<tr class="separator:a2f58e25d4dae7f2d95850d174c5f2820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c38efda198262a3f6f54eb16a471fb" id="r_ab6c38efda198262a3f6f54eb16a471fb"><td class="memItemLeft" align="right" valign="top"><a id="ab6c38efda198262a3f6f54eb16a471fb" name="ab6c38efda198262a3f6f54eb16a471fb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HEAP_CONSTANT</b>&#160;&#160;&#160;<a class="el" href="#a2f58e25d4dae7f2d95850d174c5f2820">HEAP_LOCATION</a></td></tr>
<tr class="separator:ab6c38efda198262a3f6f54eb16a471fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8d73ba9990a2d655f9906b34f316350" id="r_aa8d73ba9990a2d655f9906b34f316350"><td class="memItemLeft" align="right" valign="top"><a id="aa8d73ba9990a2d655f9906b34f316350" name="aa8d73ba9990a2d655f9906b34f316350"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HEAP_CONSTANT2</b>&#160;&#160;&#160;( HEAP_CONSTANT+1)</td></tr>
<tr class="separator:aa8d73ba9990a2d655f9906b34f316350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17d0b04a86501f1b53f83465c986935" id="r_ac17d0b04a86501f1b53f83465c986935"><td class="memItemLeft" align="right" valign="top"><a id="ac17d0b04a86501f1b53f83465c986935" name="ac17d0b04a86501f1b53f83465c986935"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HEAP_LOCATION_PTR</b>&#160;&#160;&#160;(HEAP_CONSTANT2+1)</td></tr>
<tr class="separator:ac17d0b04a86501f1b53f83465c986935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c9aaf52b04d5484db8aba1e9028c278" id="r_a7c9aaf52b04d5484db8aba1e9028c278"><td class="memItemLeft" align="right" valign="top"><a id="a7c9aaf52b04d5484db8aba1e9028c278" name="a7c9aaf52b04d5484db8aba1e9028c278"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>HEAP_TEMP</b>&#160;&#160;&#160;(HEAP_LOCATION_PTR+2)</td></tr>
<tr class="separator:a7c9aaf52b04d5484db8aba1e9028c278"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a137db60eec8a1abc98c96580d7b764fc" id="r_a137db60eec8a1abc98c96580d7b764fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a137db60eec8a1abc98c96580d7b764fc">initHeap</a> ()</td></tr>
<tr class="memdesc:a137db60eec8a1abc98c96580d7b764fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the heap for you.  <br /></td></tr>
<tr class="separator:a137db60eec8a1abc98c96580d7b764fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d78a5f4102f4b0691ecf164af9dadf1" id="r_a4d78a5f4102f4b0691ecf164af9dadf1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d78a5f4102f4b0691ecf164af9dadf1">_malloc</a> () __naked</td></tr>
<tr class="memdesc:a4d78a5f4102f4b0691ecf164af9dadf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assembly malloc implementation.  <br /></td></tr>
<tr class="separator:a4d78a5f4102f4b0691ecf164af9dadf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15854dc49461bfcaa4a38cb359f3e71f" id="r_a15854dc49461bfcaa4a38cb359f3e71f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15854dc49461bfcaa4a38cb359f3e71f">malloc</a> (int size) __naked</td></tr>
<tr class="memdesc:a15854dc49461bfcaa4a38cb359f3e71f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request to allocate an amount of memory from the heap (filled undefined random data)  <br /></td></tr>
<tr class="separator:a15854dc49461bfcaa4a38cb359f3e71f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d881f34c18d1e2c88a14f5d94e971b" id="r_af1d881f34c18d1e2c88a14f5d94e971b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1d881f34c18d1e2c88a14f5d94e971b">_free</a> () __naked</td></tr>
<tr class="memdesc:af1d881f34c18d1e2c88a14f5d94e971b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assembly <a class="el" href="#a26d7887be1fe25a2cfb8239362f16938" title="Frees an allocated memory address from the heap.">free()</a> implementation.  <br /></td></tr>
<tr class="separator:af1d881f34c18d1e2c88a14f5d94e971b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26d7887be1fe25a2cfb8239362f16938" id="r_a26d7887be1fe25a2cfb8239362f16938"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26d7887be1fe25a2cfb8239362f16938">free</a> (void *ptr) __naked</td></tr>
<tr class="memdesc:a26d7887be1fe25a2cfb8239362f16938"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees an allocated memory address from the heap.  <br /></td></tr>
<tr class="separator:a26d7887be1fe25a2cfb8239362f16938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ca267ed9fd6f2ebd03150b16f230a0" id="r_ac9ca267ed9fd6f2ebd03150b16f230a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9ca267ed9fd6f2ebd03150b16f230a0">_calloc</a> () __naked</td></tr>
<tr class="memdesc:ac9ca267ed9fd6f2ebd03150b16f230a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assembly function for <a class="el" href="#a1f0eeac79b62f335c80572b9607331a6" title="Request to allocate an amount of memory from the heap (filled zeros)">calloc()</a>  <br /></td></tr>
<tr class="separator:ac9ca267ed9fd6f2ebd03150b16f230a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0eeac79b62f335c80572b9607331a6" id="r_a1f0eeac79b62f335c80572b9607331a6"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f0eeac79b62f335c80572b9607331a6">calloc</a> (int size) __naked</td></tr>
<tr class="memdesc:a1f0eeac79b62f335c80572b9607331a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request to allocate an amount of memory from the heap (filled zeros)  <br /></td></tr>
<tr class="separator:a1f0eeac79b62f335c80572b9607331a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe636ded47474d23ccd0d01a4c944ac4" id="r_afe636ded47474d23ccd0d01a4c944ac4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe636ded47474d23ccd0d01a4c944ac4">copy</a> (void *dst, void *source, int size) __naked</td></tr>
<tr class="memdesc:afe636ded47474d23ccd0d01a4c944ac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a region of memory.  <br /></td></tr>
<tr class="separator:afe636ded47474d23ccd0d01a4c944ac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aacc2cdf7bc1195adb693bf201ff2c8b6" id="r_aacc2cdf7bc1195adb693bf201ff2c8b6"><td class="memItemLeft" align="right" valign="top"><a id="aacc2cdf7bc1195adb693bf201ff2c8b6" name="aacc2cdf7bc1195adb693bf201ff2c8b6"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><b>HEAP_VAR_NAME</b> [] = addAppVarObj(<a class="el" href="#a33bf31228fd22e4afa06a93bfa681d5b">CUSTOM_HEAP_NAME</a>)</td></tr>
<tr class="memdesc:aacc2cdf7bc1195adb693bf201ff2c8b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of heap variable in calculator. <br /></td></tr>
<tr class="separator:aacc2cdf7bc1195adb693bf201ff2c8b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A simple and preforment memory allocator. </p>
<p>This file allows for a psuedo-heap, it is a lot like how the heap works in the typical c std. This works by creating a calculator variable typically called "ConHeap" where the data is stored. It should be noted that <a class="el" href="#a137db60eec8a1abc98c96580d7b764fc" title="Create the heap for you.">initHeap()</a> uses <a class="el" href="../../d5/de8/variables_8c.html#afe191947cfd17993fcca9d9101c3895f" title="Gets a var or creates one a given size.">getOrCreateVar()</a> so if somebody forgets to <a class="el" href="#a2d462dbeb5a594ac82d2827821aa5573" title="Cleans up the heap for when the program is closing.">purge_heap()</a> and you are using a custom HEAP_SIZE you might run into some error. <b>So always call <a class="el" href="#a2d462dbeb5a594ac82d2827821aa5573" title="Cleans up the heap for when the program is closing.">purge_heap()</a> or make use of <a class="el" href="#aa67674772f75f551422c1a374a8a4b79" title="Automaticlly runs purge_heap() for you.">auto_purge_heap()</a> !</b></p>
<p><small> It should be noted that <a class="el" href="#aa67674772f75f551422c1a374a8a4b79" title="Automaticlly runs purge_heap() for you.">auto_purge_heap()</a> seems not to run correctly in programs </small></p>
<h3>Optional #defines </h3>
<ul>
<li><b> HEAP_SIZE</b> - A number that is the size of varible to create for the heap.</li>
<li><b> CUSTOM_HEAP_NAME</b> - Sets the heap variable to a custom name </li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa67674772f75f551422c1a374a8a4b79" name="aa67674772f75f551422c1a374a8a4b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67674772f75f551422c1a374a8a4b79">&#9670;&#160;</a></span>auto_purge_heap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define auto_purge_heap</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">   __asm                  \</div>
<div class="line">   ld hl, __hs AUTO_CLOSE_HEAP_LOCATION          \</div>
<div class="line">   push hl                                       \</div>
<div class="line">   jp AFTER_AUTO_CLOSE_HEAP                      \</div>
<div class="line">AUTO_CLOSE_HEAP_LOCATION:                        \</div>
<div class="line">   __endasm; <a class="code hl_define" href="#a2d462dbeb5a594ac82d2827821aa5573">purge_heap</a>(); __asm        \</div>
<div class="line">   ret                                           \</div>
<div class="line">  AFTER_AUTO_CLOSE_HEAP: __endasm</div>
<div class="ttc" id="amemory_8c_html_a2d462dbeb5a594ac82d2827821aa5573"><div class="ttname"><a href="#a2d462dbeb5a594ac82d2827821aa5573">purge_heap</a></div><div class="ttdeci">#define purge_heap()</div><div class="ttdoc">Cleans up the heap for when the program is closing.</div><div class="ttdef"><b>Definition</b> memory.c:68</div></div>
</div><!-- fragment -->
<p>Automaticlly runs <a class="el" href="#a2d462dbeb5a594ac82d2827821aa5573" title="Cleans up the heap for when the program is closing.">purge_heap()</a> for you. </p>
<p>This <b>must be called in main</b>, this is because it will automaticlly run <a class="el" href="#a2d462dbeb5a594ac82d2827821aa5573" title="Cleans up the heap for when the program is closing.">purge_heap()</a> when the current function returns. This also must be called <b>before ANY</b> variables are set, it will destroy the hl register. If you call <a class="el" href="#aa67674772f75f551422c1a374a8a4b79" title="Automaticlly runs purge_heap() for you.">auto_purge_heap()</a> in main before any variables are set, it will automaticlly call <a class="el" href="#a2d462dbeb5a594ac82d2827821aa5573" title="Cleans up the heap for when the program is closing.">purge_heap()</a> for you as main returns.</p>
<p>Also doesn't seem to run currectly programs. </p>

</div>
</div>
<a id="a2d462dbeb5a594ac82d2827821aa5573" name="a2d462dbeb5a594ac82d2827821aa5573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d462dbeb5a594ac82d2827821aa5573">&#9670;&#160;</a></span>purge_heap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define purge_heap</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d5/de8/variables_8c.html#a2f62cc8750ffebff2a9eee2d2f732922">delete</a>(<a class="el" href="#aacc2cdf7bc1195adb693bf201ff2c8b6">HEAP_VAR_NAME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleans up the heap for when the program is closing. </p>
<p>Call this before you exit the program if you initialized the heap </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac9ca267ed9fd6f2ebd03150b16f230a0" name="ac9ca267ed9fd6f2ebd03150b16f230a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9ca267ed9fd6f2ebd03150b16f230a0">&#9670;&#160;</a></span>_calloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _calloc </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assembly function for <a class="el" href="#a1f0eeac79b62f335c80572b9607331a6" title="Request to allocate an amount of memory from the heap (filled zeros)">calloc()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[bc]</td><td>Size of memory to be requested </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>hl = memory location </dd></dl>

</div>
</div>
<a id="af1d881f34c18d1e2c88a14f5d94e971b" name="af1d881f34c18d1e2c88a14f5d94e971b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1d881f34c18d1e2c88a14f5d94e971b">&#9670;&#160;</a></span>_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _free </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assembly <a class="el" href="#a26d7887be1fe25a2cfb8239362f16938" title="Frees an allocated memory address from the heap.">free()</a> implementation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[hl]</td><td>Location of memory to be freed</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="#a26d7887be1fe25a2cfb8239362f16938" title="Frees an allocated memory address from the heap.">free()</a> </p>

</div>
</div>
<a id="a4d78a5f4102f4b0691ecf164af9dadf1" name="a4d78a5f4102f4b0691ecf164af9dadf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d78a5f4102f4b0691ecf164af9dadf1">&#9670;&#160;</a></span>_malloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _malloc </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assembly malloc implementation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[bc]</td><td>Size of memory to be requested </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>hl = memory location</dd></dl>
<p>See <a class="el" href="#a15854dc49461bfcaa4a38cb359f3e71f" title="Request to allocate an amount of memory from the heap (filled undefined random data)">malloc()</a> and all error conditions apply. </p>

</div>
</div>
<a id="a1f0eeac79b62f335c80572b9607331a6" name="a1f0eeac79b62f335c80572b9607331a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f0eeac79b62f335c80572b9607331a6">&#9670;&#160;</a></span>calloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * calloc </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>size</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request to allocate an amount of memory from the heap (filled zeros) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[size]</td><td>Amount of memory to be allocated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to free memory</dd></dl>
<p>Same as <a class="el" href="#a15854dc49461bfcaa4a38cb359f3e71f" title="Request to allocate an amount of memory from the heap (filled undefined random data)">malloc()</a> except fills data buffer with zeros </p>

</div>
</div>
<a id="afe636ded47474d23ccd0d01a4c944ac4" name="afe636ded47474d23ccd0d01a4c944ac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe636ded47474d23ccd0d01a4c944ac4">&#9670;&#160;</a></span>copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copy </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dst</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>source</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a region of memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[dst]</td><td>Location to copy to </td></tr>
    <tr><td class="paramname">[source]</td><td>Location to copy from </td></tr>
    <tr><td class="paramname">[size]</td><td>Amount of ram to copy.</td></tr>
  </table>
  </dd>
</dl>
<p>This is <b>not</b> strncpy and will disregard null termination. </p>

</div>
</div>
<a id="a26d7887be1fe25a2cfb8239362f16938" name="a26d7887be1fe25a2cfb8239362f16938"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26d7887be1fe25a2cfb8239362f16938">&#9670;&#160;</a></span>free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees an allocated memory address from the heap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[ptr]</td><td>Memory to be freed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a137db60eec8a1abc98c96580d7b764fc" name="a137db60eec8a1abc98c96580d7b764fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a137db60eec8a1abc98c96580d7b764fc">&#9670;&#160;</a></span>initHeap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initHeap </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the heap for you. </p>
<p>Call this to create/reset the heap. You can call this a secound time to reset the heap for you. But don't use any pointers you got from malloc/calloc or you might get undefined outputs. </p>

</div>
</div>
<a id="a15854dc49461bfcaa4a38cb359f3e71f" name="a15854dc49461bfcaa4a38cb359f3e71f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15854dc49461bfcaa4a38cb359f3e71f">&#9670;&#160;</a></span>malloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * malloc </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>size</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request to allocate an amount of memory from the heap (filled undefined random data) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[size]</td><td>Amount of memory to be allocated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to free memory</dd></dl>
<p>This should be identical to the normal malloc function. But be warned that if you write to bytes past what you have allocated you can cause <b>undefined behavior!</b></p>
<p>If <b>NO_MEMMORY_ERRORS</b> is defined instead of raising an error, malloc will return NULL. Malloc can error for two reasons, if you pass in zero, or if you allocate too much memory for the heap variable. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="../../df/dd5/memory_8c.html">memory.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
