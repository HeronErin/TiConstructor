<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ti Constructor: lib/greyscale.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Ti Constructor
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d7/dbc/greyscale_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">greyscale.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Unlocks greyscale on the calc at the cost of some cpu.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d1/d74/interupts_8c_source.html">interupts.c</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a34ae1178623830a7a8b2c06ad82759be" id="r_a34ae1178623830a7a8b2c06ad82759be"><td class="memItemLeft" align="right" valign="top"><a id="a34ae1178623830a7a8b2c06ad82759be" name="a34ae1178623830a7a8b2c06ad82759be"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_LCD_BUSY_QUICK</b>&#160;&#160;&#160;0x000B</td></tr>
<tr class="separator:a34ae1178623830a7a8b2c06ad82759be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a080021f8b22b47e0e515fadb3342b6d8" id="r_a080021f8b22b47e0e515fadb3342b6d8"><td class="memItemLeft" align="right" valign="top"><a id="a080021f8b22b47e0e515fadb3342b6d8" name="a080021f8b22b47e0e515fadb3342b6d8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>__hs</b>&#160;&#160;&#160;#</td></tr>
<tr class="memdesc:a080021f8b22b47e0e515fadb3342b6d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bypass allowing for # in preprocess direcive values. <br /></td></tr>
<tr class="separator:a080021f8b22b47e0e515fadb3342b6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4ad1993081b85bd9f163e75dd7317d" id="r_acf4ad1993081b85bd9f163e75dd7317d"><td class="memItemLeft" align="right" valign="top"><a id="acf4ad1993081b85bd9f163e75dd7317d" name="acf4ad1993081b85bd9f163e75dd7317d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WAIT_LOC</b>&#160;&#160;&#160;0x85BE</td></tr>
<tr class="memdesc:acf4ad1993081b85bd9f163e75dd7317d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram location for wait char. <br /></td></tr>
<tr class="separator:acf4ad1993081b85bd9f163e75dd7317d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b314ca85c938c9352de4512efffd642" id="r_a1b314ca85c938c9352de4512efffd642"><td class="memItemLeft" align="right" valign="top"><a id="a1b314ca85c938c9352de4512efffd642" name="a1b314ca85c938c9352de4512efffd642"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONTRAST_LOC</b>&#160;&#160;&#160;(<a class="el" href="../../d7/dbc/greyscale_8c.html#acf4ad1993081b85bd9f163e75dd7317d">WAIT_LOC</a>+1)</td></tr>
<tr class="memdesc:a1b314ca85c938c9352de4512efffd642"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram location for constast char. <br /></td></tr>
<tr class="separator:a1b314ca85c938c9352de4512efffd642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f741cd56abeb0dc5e44623d691c2ec5" id="r_a9f741cd56abeb0dc5e44623d691c2ec5"><td class="memItemLeft" align="right" valign="top"><a id="a9f741cd56abeb0dc5e44623d691c2ec5" name="a9f741cd56abeb0dc5e44623d691c2ec5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GRAY_CYCLE</b>&#160;&#160;&#160;(<a class="el" href="../../d7/dbc/greyscale_8c.html#a1b314ca85c938c9352de4512efffd642">CONTRAST_LOC</a>+1)</td></tr>
<tr class="memdesc:a9f741cd56abeb0dc5e44623d691c2ec5"><td class="mdescLeft">&#160;</td><td class="mdescRight">0 - 0x25, do not set this yourself <br /></td></tr>
<tr class="separator:a9f741cd56abeb0dc5e44623d691c2ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad129d98e7f6db51ea51c8bd33a49d11d" id="r_ad129d98e7f6db51ea51c8bd33a49d11d"><td class="memItemLeft" align="right" valign="top"><a id="ad129d98e7f6db51ea51c8bd33a49d11d" name="ad129d98e7f6db51ea51c8bd33a49d11d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GRAY_CYCLE_CARRY</b>&#160;&#160;&#160;(<a class="el" href="../../d7/dbc/greyscale_8c.html#a9f741cd56abeb0dc5e44623d691c2ec5">GRAY_CYCLE</a>+1)</td></tr>
<tr class="memdesc:ad129d98e7f6db51ea51c8bd33a49d11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for greyscale math, do not set this yourself. <br /></td></tr>
<tr class="separator:ad129d98e7f6db51ea51c8bd33a49d11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba79c0c7ca01d04ac7e77b6c5c974a2" id="r_a9ba79c0c7ca01d04ac7e77b6c5c974a2"><td class="memItemLeft" align="right" valign="top"><a id="a9ba79c0c7ca01d04ac7e77b6c5c974a2" name="a9ba79c0c7ca01d04ac7e77b6c5c974a2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SAVE_CONTRAST</b>&#160;&#160;&#160;0x9D88</td></tr>
<tr class="memdesc:a9ba79c0c7ca01d04ac7e77b6c5c974a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram location of where the old contrast of the screen is stored. <br /></td></tr>
<tr class="separator:a9ba79c0c7ca01d04ac7e77b6c5c974a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11168a5098e7692094b7b6879558ecc0" id="r_a11168a5098e7692094b7b6879558ecc0"><td class="memItemLeft" align="right" valign="top"><a id="a11168a5098e7692094b7b6879558ecc0" name="a11168a5098e7692094b7b6879558ecc0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_MAX_COL</b>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:a11168a5098e7692094b7b6879558ecc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only used when setting the initial MAX_COL. <br /></td></tr>
<tr class="separator:a11168a5098e7692094b7b6879558ecc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ec6474c074831d2a3d774564337aad" id="r_ad7ec6474c074831d2a3d774564337aad"><td class="memItemLeft" align="right" valign="top"><a id="ad7ec6474c074831d2a3d774564337aad" name="ad7ec6474c074831d2a3d774564337aad"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COL_START_CONST</b>&#160;&#160;&#160;0x20</td></tr>
<tr class="memdesc:ad7ec6474c074831d2a3d774564337aad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only used when setting the initial START_COL. <br /></td></tr>
<tr class="separator:ad7ec6474c074831d2a3d774564337aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0999f61805fd5db8ec16a027c1db621c" id="r_a0999f61805fd5db8ec16a027c1db621c"><td class="memItemLeft" align="right" valign="top"><a id="a0999f61805fd5db8ec16a027c1db621c" name="a0999f61805fd5db8ec16a027c1db621c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_CONST</b>&#160;&#160;&#160;0x80</td></tr>
<tr class="memdesc:a0999f61805fd5db8ec16a027c1db621c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only used when setting the initial START_ROW. <br /></td></tr>
<tr class="separator:a0999f61805fd5db8ec16a027c1db621c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0997428a77d4eda7188f0dd77a006790" id="r_a0997428a77d4eda7188f0dd77a006790"><td class="memItemLeft" align="right" valign="top"><a id="a0997428a77d4eda7188f0dd77a006790" name="a0997428a77d4eda7188f0dd77a006790"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROW_END_CONST</b>&#160;&#160;&#160;0xBF</td></tr>
<tr class="memdesc:a0997428a77d4eda7188f0dd77a006790"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only used when setting the initial END_ROW. <br /></td></tr>
<tr class="separator:a0997428a77d4eda7188f0dd77a006790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0312cb6d6cbc719075d4e5380c387ab3" id="r_a0312cb6d6cbc719075d4e5380c387ab3"><td class="memItemLeft" align="right" valign="top"><a id="a0312cb6d6cbc719075d4e5380c387ab3" name="a0312cb6d6cbc719075d4e5380c387ab3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>XMAX</b>&#160;&#160;&#160;96</td></tr>
<tr class="separator:a0312cb6d6cbc719075d4e5380c387ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610d6ad95b18966b70b6845de2a9c56b" id="r_a610d6ad95b18966b70b6845de2a9c56b"><td class="memItemLeft" align="right" valign="top"><a id="a610d6ad95b18966b70b6845de2a9c56b" name="a610d6ad95b18966b70b6845de2a9c56b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>YMAX</b>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a610d6ad95b18966b70b6845de2a9c56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a533ad373350e15bbee92fb6f790d61a7" id="r_a533ad373350e15bbee92fb6f790d61a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dbc/greyscale_8c.html#a533ad373350e15bbee92fb6f790d61a7">INIT_GREYSCALE</a>()</td></tr>
<tr class="memdesc:a533ad373350e15bbee92fb6f790d61a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this to enable greyscale interupts, <b>change greyscale settings after calling this </b>  <br /></td></tr>
<tr class="separator:a533ad373350e15bbee92fb6f790d61a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d5b329250099a1d538bfdf4276597ab" id="r_a6d5b329250099a1d538bfdf4276597ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dbc/greyscale_8c.html#a6d5b329250099a1d538bfdf4276597ab">ADDED_ON_EXIT</a>()</td></tr>
<tr class="separator:a6d5b329250099a1d538bfdf4276597ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3dfe21a0d5d00f6b5621f528dd35f5" id="r_a7f3dfe21a0d5d00f6b5621f528dd35f5"><td class="memItemLeft" align="right" valign="top"><a id="a7f3dfe21a0d5d00f6b5621f528dd35f5" name="a7f3dfe21a0d5d00f6b5621f528dd35f5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OVERIDE_INTERUPTS</b></td></tr>
<tr class="separator:a7f3dfe21a0d5d00f6b5621f528dd35f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ffe571311fc7a5598d17fe3bdb9e3d2" id="r_a7ffe571311fc7a5598d17fe3bdb9e3d2"><td class="memItemLeft" align="right" valign="top"><a id="a7ffe571311fc7a5598d17fe3bdb9e3d2" name="a7ffe571311fc7a5598d17fe3bdb9e3d2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DURING_INTERUPT</b>()&#160;&#160;&#160;<a class="el" href="../../d7/dbc/greyscale_8c.html#abbebc026da0bcc62f8667548ed32aa9d">grey_interupt</a>()</td></tr>
<tr class="separator:a7ffe571311fc7a5598d17fe3bdb9e3d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Greyscale setting ram locations</div></td></tr>
<tr class="memitem:aef84164dbbbf950ffc5da7ffcaf7f91c" id="r_aef84164dbbbf950ffc5da7ffcaf7f91c"><td class="memItemLeft" align="right" valign="top"><a id="aef84164dbbbf950ffc5da7ffcaf7f91c" name="aef84164dbbbf950ffc5da7ffcaf7f91c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>START_ROW</b>&#160;&#160;&#160;(<a class="el" href="../../d7/dbc/greyscale_8c.html#ad129d98e7f6db51ea51c8bd33a49d11d">GRAY_CYCLE_CARRY</a>+1)</td></tr>
<tr class="memdesc:aef84164dbbbf950ffc5da7ffcaf7f91c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram location whoose value starts at 0x80 and defines what row the greyscale starts at. <br /></td></tr>
<tr class="separator:aef84164dbbbf950ffc5da7ffcaf7f91c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6dc4004a28fea314f91ccc7bd7abe5" id="r_a5c6dc4004a28fea314f91ccc7bd7abe5"><td class="memItemLeft" align="right" valign="top"><a id="a5c6dc4004a28fea314f91ccc7bd7abe5" name="a5c6dc4004a28fea314f91ccc7bd7abe5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>END_ROW</b>&#160;&#160;&#160;(<a class="el" href="../../d7/dbc/greyscale_8c.html#aef84164dbbbf950ffc5da7ffcaf7f91c">START_ROW</a>+1)</td></tr>
<tr class="memdesc:a5c6dc4004a28fea314f91ccc7bd7abe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram location whoose value starts at 0xBF and defines what row the greyscale ends at. <br /></td></tr>
<tr class="separator:a5c6dc4004a28fea314f91ccc7bd7abe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">IF YOU CHANGE COL, YOU MUST CHANGE THE XMAX, OTHERWISE THE IMAGE IS MESSED UP: #define XMAX (endcol - startcol)*8</div></td></tr>
<tr class="memitem:a39d4b8bb4368e58868cad71db4842492" id="r_a39d4b8bb4368e58868cad71db4842492"><td class="memItemLeft" align="right" valign="top"><a id="a39d4b8bb4368e58868cad71db4842492" name="a39d4b8bb4368e58868cad71db4842492"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>START_COL</b>&#160;&#160;&#160;(<a class="el" href="../../d7/dbc/greyscale_8c.html#a5c6dc4004a28fea314f91ccc7bd7abe5">END_ROW</a>+1)</td></tr>
<tr class="memdesc:a39d4b8bb4368e58868cad71db4842492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram location of what colum the greyscale starts. <br /></td></tr>
<tr class="separator:a39d4b8bb4368e58868cad71db4842492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e80440b5a5ec2ffc172dead9f8d2ec" id="r_a97e80440b5a5ec2ffc172dead9f8d2ec"><td class="memItemLeft" align="right" valign="top"><a id="a97e80440b5a5ec2ffc172dead9f8d2ec" name="a97e80440b5a5ec2ffc172dead9f8d2ec"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_COL</b>&#160;&#160;&#160;(<a class="el" href="../../d7/dbc/greyscale_8c.html#a39d4b8bb4368e58868cad71db4842492">START_COL</a>+1)</td></tr>
<tr class="memdesc:a97e80440b5a5ec2ffc172dead9f8d2ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram location of how many colums to draw. <br /></td></tr>
<tr class="separator:a97e80440b5a5ec2ffc172dead9f8d2ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Grey scale screen buffer locations</div></td></tr>
<tr class="memitem:a422e7cd1a0055b8cac4e90ecafedb1bb" id="r_a422e7cd1a0055b8cac4e90ecafedb1bb"><td class="memItemLeft" align="right" valign="top"><a id="a422e7cd1a0055b8cac4e90ecafedb1bb" name="a422e7cd1a0055b8cac4e90ecafedb1bb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LIGHT_GREY_LOC</b>&#160;&#160;&#160;plotSScreen</td></tr>
<tr class="memdesc:a422e7cd1a0055b8cac4e90ecafedb1bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram location of where light grey pixels are set. <br /></td></tr>
<tr class="separator:a422e7cd1a0055b8cac4e90ecafedb1bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ce1600877c91649360dc0786e98f09" id="r_a72ce1600877c91649360dc0786e98f09"><td class="memItemLeft" align="right" valign="top"><a id="a72ce1600877c91649360dc0786e98f09" name="a72ce1600877c91649360dc0786e98f09"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DARK_GREY_LOC</b>&#160;&#160;&#160;appBackUpScreen</td></tr>
<tr class="memdesc:a72ce1600877c91649360dc0786e98f09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram location of where dark grey pixels are set. <br /></td></tr>
<tr class="separator:a72ce1600877c91649360dc0786e98f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abbebc026da0bcc62f8667548ed32aa9d" id="r_abbebc026da0bcc62f8667548ed32aa9d"><td class="memItemLeft" align="right" valign="top"><a id="abbebc026da0bcc62f8667548ed32aa9d" name="abbebc026da0bcc62f8667548ed32aa9d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>grey_interupt</b> () __naked</td></tr>
<tr class="memdesc:abbebc026da0bcc62f8667548ed32aa9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called during interupts, <b>DO NOT CALL YOURSELF</b> <br /></td></tr>
<tr class="separator:abbebc026da0bcc62f8667548ed32aa9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5082e0fa1de607c1f6d085366d02591" id="r_ac5082e0fa1de607c1f6d085366d02591"><td class="memItemLeft" align="right" valign="top"><a id="ac5082e0fa1de607c1f6d085366d02591" name="ac5082e0fa1de607c1f6d085366d02591"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clearGreyScaleBuffer</b> ()</td></tr>
<tr class="memdesc:ac5082e0fa1de607c1f6d085366d02591"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quickly clears both LIGHT_GREY_LOC and DARK_GREY_LOC. <br /></td></tr>
<tr class="separator:ac5082e0fa1de607c1f6d085366d02591"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Unlocks greyscale on the calc at the cost of some cpu. </p>
<p>Warnings: This <em>may</em> take up 90% of the cpu time and should be used with cpu turbo setCpuSpeed(3) Look at the example in examples/greyScale Usage:</p>
<p>you might want to know that there is an emergency killswitch built in, if you press the on button it will stop the greyscale, but you can disable the killswitch with #define DISABLE_ON_BUTTON_KILL before you include this file</p>
<p>Greyscale uses interupts so no need for a swap (don't even try to use swap) First put your image in LIGHT_GREY_LOC and DARK_GREY_LOC, since there is 4 different color options (off, light grey, dark grey, and black) you need need 2 bits per pixel (one in LIGHT_GREY_LOC and the other in DARK_GREY_LOC), both bits are set for black and both are zero for off Use clearGreyScaleBuffer to clear these two buffers quickly</p>
<p>Your first instruction should be <a class="el" href="../../d7/dbc/greyscale_8c.html#ac5082e0fa1de607c1f6d085366d02591" title="Quickly clears both LIGHT_GREY_LOC and DARK_GREY_LOC.">clearGreyScaleBuffer()</a> followed by <a class="el" href="../../d7/dbc/greyscale_8c.html#a533ad373350e15bbee92fb6f790d61a7" title="Call this to enable greyscale interupts, change greyscale settings after calling this">INIT_GREYSCALE()</a></p>
<p>Next you may need to set your drawing settings (since default values are set in INIT_GREYSCALE) this can be done in C as follows: *((char*)START_ROW) = ROW_CONST; *((char*)START_COL) = COL_START_CONST;</p>
<p>*((char*)END_ROW) = ROW_END_CONST; *((char*)MAX_COL) = DEFAULT_MAX_COL; // you must change your XMAX (or equivalent) along with your DEFAULT_MAX_COL, otherwise things tend to break</p>
<p>It is recommended to add/subtrace to/from the default values due to some of them being offseted values (the setting for row 0 is 0x80 and column 0 is 0x20)</p>
<p>Ps. The emulator dosn't work with greyscale well</p>
<p>Also if you use an appvar for greyscale settings use the name "greycfg" and use this structor [0x69, WAIT_TIME, CONTRAST, 0x69] 0x69 is for integrity checking (Im not immature at all lol) see the 2048 in examples/ </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6d5b329250099a1d538bfdf4276597ab" name="a6d5b329250099a1d538bfdf4276597ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d5b329250099a1d538bfdf4276597ab">&#9670;&#160;</a></span>ADDED_ON_EXIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADDED_ON_EXIT</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        __asm\</div>
<div class="line">        ld a, (<a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a9ba79c0c7ca01d04ac7e77b6c5c974a2">SAVE_CONTRAST</a>)\</div>
<div class="line">        ld (contrast), a\</div>
<div class="line">        add a, <a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a080021f8b22b47e0e515fadb3342b6d8">__hs</a> 0xD8\</div>
<div class="line">        out (0x10), a\</div>
<div class="line">        ret\</div>
<div class="line">    __endasm</div>
<div class="ttc" id="agreyscale_8c_html_a080021f8b22b47e0e515fadb3342b6d8"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#a080021f8b22b47e0e515fadb3342b6d8">__hs</a></div><div class="ttdeci">#define __hs</div><div class="ttdoc">Bypass allowing for # in preprocess direcive values.</div><div class="ttdef"><b>Definition</b> greyscale.c:40</div></div>
<div class="ttc" id="agreyscale_8c_html_a9ba79c0c7ca01d04ac7e77b6c5c974a2"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#a9ba79c0c7ca01d04ac7e77b6c5c974a2">SAVE_CONTRAST</a></div><div class="ttdeci">#define SAVE_CONTRAST</div><div class="ttdoc">Ram location of where the old contrast of the screen is stored.</div><div class="ttdef"><b>Definition</b> greyscale.c:76</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a533ad373350e15bbee92fb6f790d61a7" name="a533ad373350e15bbee92fb6f790d61a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a533ad373350e15bbee92fb6f790d61a7">&#9670;&#160;</a></span>INIT_GREYSCALE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INIT_GREYSCALE</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                         *((<span class="keywordtype">char</span>*)<a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a9f741cd56abeb0dc5e44623d691c2ec5">GRAY_CYCLE</a>) = 0b01101101 ;\</div>
<div class="line">                         *((<span class="keywordtype">char</span>*)<a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a1b314ca85c938c9352de4512efffd642">CONTRAST_LOC</a>) = 0x15;\</div>
<div class="line">                         *((<span class="keywordtype">char</span>*)<a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a9ba79c0c7ca01d04ac7e77b6c5c974a2">SAVE_CONTRAST</a>) = *((<span class="keywordtype">char</span>*)contrast);\</div>
<div class="line">                         *((<span class="keywordtype">char</span>*)contrast) = 0;\</div>
<div class="line">                         *(<span class="keywordtype">char</span>*)<a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#acf4ad1993081b85bd9f163e75dd7317d">WAIT_LOC</a> = 0x9F;\</div>
<div class="line">                         *((<span class="keywordtype">char</span>*)<a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#ad129d98e7f6db51ea51c8bd33a49d11d">GRAY_CYCLE_CARRY</a>) = 1;\</div>
<div class="line">                         \</div>
<div class="line">                         \</div>
<div class="line">                         *((<span class="keywordtype">char</span>*)<a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#aef84164dbbbf950ffc5da7ffcaf7f91c">START_ROW</a>) = <a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a0999f61805fd5db8ec16a027c1db621c">ROW_CONST</a>;\</div>
<div class="line">                         *((<span class="keywordtype">char</span>*)<a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a39d4b8bb4368e58868cad71db4842492">START_COL</a>) = <a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#ad7ec6474c074831d2a3d774564337aad">COL_START_CONST</a>;\</div>
<div class="line">                         \</div>
<div class="line">                         *((<span class="keywordtype">char</span>*)<a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a5c6dc4004a28fea314f91ccc7bd7abe5">END_ROW</a>) = <a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a0997428a77d4eda7188f0dd77a006790">ROW_END_CONST</a>;\</div>
<div class="line">                         *((<span class="keywordtype">char</span>*)<a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a97e80440b5a5ec2ffc172dead9f8d2ec">MAX_COL</a>) = <a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a11168a5098e7692094b7b6879558ecc0">DEFAULT_MAX_COL</a>;\</div>
<div class="line">                         SET_INTERUPTS(); __asm\</div>
<div class="line">                         \</div>
<div class="line">                            ld  a, <a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a080021f8b22b47e0e515fadb3342b6d8">__hs</a> 0x40 \</div>
<div class="line">                            out (0x33), a   ;10922 Hz \</div>
<div class="line">                            ld  a, <a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#a080021f8b22b47e0e515fadb3342b6d8">__hs</a> 2 \</div>
<div class="line">                            out (0x34),     a \</div>
<div class="line">                            ld  a, (<a class="code hl_define" href="../../d7/dbc/greyscale_8c.html#acf4ad1993081b85bd9f163e75dd7317d">WAIT_LOC</a>) \</div>
<div class="line">                            out (0x35), a \</div>
<div class="line">                            __endasm</div>
<div class="ttc" id="agreyscale_8c_html_a0997428a77d4eda7188f0dd77a006790"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#a0997428a77d4eda7188f0dd77a006790">ROW_END_CONST</a></div><div class="ttdeci">#define ROW_END_CONST</div><div class="ttdoc">Only used when setting the initial END_ROW.</div><div class="ttdef"><b>Definition</b> greyscale.c:88</div></div>
<div class="ttc" id="agreyscale_8c_html_a0999f61805fd5db8ec16a027c1db621c"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#a0999f61805fd5db8ec16a027c1db621c">ROW_CONST</a></div><div class="ttdeci">#define ROW_CONST</div><div class="ttdoc">Only used when setting the initial START_ROW.</div><div class="ttdef"><b>Definition</b> greyscale.c:86</div></div>
<div class="ttc" id="agreyscale_8c_html_a11168a5098e7692094b7b6879558ecc0"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#a11168a5098e7692094b7b6879558ecc0">DEFAULT_MAX_COL</a></div><div class="ttdeci">#define DEFAULT_MAX_COL</div><div class="ttdoc">Only used when setting the initial MAX_COL.</div><div class="ttdef"><b>Definition</b> greyscale.c:79</div></div>
<div class="ttc" id="agreyscale_8c_html_a1b314ca85c938c9352de4512efffd642"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#a1b314ca85c938c9352de4512efffd642">CONTRAST_LOC</a></div><div class="ttdeci">#define CONTRAST_LOC</div><div class="ttdoc">Ram location for constast char.</div><div class="ttdef"><b>Definition</b> greyscale.c:46</div></div>
<div class="ttc" id="agreyscale_8c_html_a39d4b8bb4368e58868cad71db4842492"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#a39d4b8bb4368e58868cad71db4842492">START_COL</a></div><div class="ttdeci">#define START_COL</div><div class="ttdoc">Ram location of what colum the greyscale starts.</div><div class="ttdef"><b>Definition</b> greyscale.c:69</div></div>
<div class="ttc" id="agreyscale_8c_html_a5c6dc4004a28fea314f91ccc7bd7abe5"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#a5c6dc4004a28fea314f91ccc7bd7abe5">END_ROW</a></div><div class="ttdeci">#define END_ROW</div><div class="ttdoc">Ram location whoose value starts at 0xBF and defines what row the greyscale ends at.</div><div class="ttdef"><b>Definition</b> greyscale.c:62</div></div>
<div class="ttc" id="agreyscale_8c_html_a97e80440b5a5ec2ffc172dead9f8d2ec"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#a97e80440b5a5ec2ffc172dead9f8d2ec">MAX_COL</a></div><div class="ttdeci">#define MAX_COL</div><div class="ttdoc">Ram location of how many colums to draw.</div><div class="ttdef"><b>Definition</b> greyscale.c:71</div></div>
<div class="ttc" id="agreyscale_8c_html_a9f741cd56abeb0dc5e44623d691c2ec5"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#a9f741cd56abeb0dc5e44623d691c2ec5">GRAY_CYCLE</a></div><div class="ttdeci">#define GRAY_CYCLE</div><div class="ttdoc">0 - 0x25, do not set this yourself</div><div class="ttdef"><b>Definition</b> greyscale.c:49</div></div>
<div class="ttc" id="agreyscale_8c_html_acf4ad1993081b85bd9f163e75dd7317d"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#acf4ad1993081b85bd9f163e75dd7317d">WAIT_LOC</a></div><div class="ttdeci">#define WAIT_LOC</div><div class="ttdoc">Ram location for wait char.</div><div class="ttdef"><b>Definition</b> greyscale.c:43</div></div>
<div class="ttc" id="agreyscale_8c_html_ad129d98e7f6db51ea51c8bd33a49d11d"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#ad129d98e7f6db51ea51c8bd33a49d11d">GRAY_CYCLE_CARRY</a></div><div class="ttdeci">#define GRAY_CYCLE_CARRY</div><div class="ttdoc">Used for greyscale math, do not set this yourself.</div><div class="ttdef"><b>Definition</b> greyscale.c:52</div></div>
<div class="ttc" id="agreyscale_8c_html_ad7ec6474c074831d2a3d774564337aad"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#ad7ec6474c074831d2a3d774564337aad">COL_START_CONST</a></div><div class="ttdeci">#define COL_START_CONST</div><div class="ttdoc">Only used when setting the initial START_COL.</div><div class="ttdef"><b>Definition</b> greyscale.c:84</div></div>
<div class="ttc" id="agreyscale_8c_html_aef84164dbbbf950ffc5da7ffcaf7f91c"><div class="ttname"><a href="../../d7/dbc/greyscale_8c.html#aef84164dbbbf950ffc5da7ffcaf7f91c">START_ROW</a></div><div class="ttdeci">#define START_ROW</div><div class="ttdoc">Ram location whoose value starts at 0x80 and defines what row the greyscale starts at.</div><div class="ttdef"><b>Definition</b> greyscale.c:60</div></div>
</div><!-- fragment -->
<p>Call this to enable greyscale interupts, <b>change greyscale settings after calling this </b> </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="../../d7/dbc/greyscale_8c.html">greyscale.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
