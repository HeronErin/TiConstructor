\doxysection{lib/graphics.c File Reference}
\hypertarget{graphics_8c}{}\label{graphics_8c}\index{lib/graphics.c@{lib/graphics.c}}


some useful graphics functions  


\doxysubsubsection*{Macros}
\begin{Indent}\textbf{ Drawing settings}\par
\begin{DoxyCompactItemize}
\item 
\Hypertarget{graphics_8c_a2ea627d6e756dbfc4694ea0db433ba16}\label{graphics_8c_a2ea627d6e756dbfc4694ea0db433ba16} 
\#define {\bfseries G\+\_\+\+SCREEN\+\_\+\+BUFFER}~plot\+SScreen
\begin{DoxyCompactList}\small\item\em the temp ram where you draw to \end{DoxyCompactList}\item 
\Hypertarget{graphics_8c_a7c25744a0d40ef79f2c4178813c881aa}\label{graphics_8c_a7c25744a0d40ef79f2c4178813c881aa} 
\#define {\bfseries G\+\_\+\+COL\+\_\+\+START}~0x20
\item 
\Hypertarget{graphics_8c_a82649b3deb5716667f718935df8794bc}\label{graphics_8c_a82649b3deb5716667f718935df8794bc} 
\#define {\bfseries G\+\_\+\+START\+\_\+\+ROW}~0x80
\item 
\Hypertarget{graphics_8c_ac624deeef0a40445144b4eedbee6edb7}\label{graphics_8c_ac624deeef0a40445144b4eedbee6edb7} 
\#define {\bfseries G\+\_\+\+ROW\+\_\+\+END}~0x\+BF
\item 
\Hypertarget{graphics_8c_ac5f6cb648c8526ce941a28cef7fb6aa1}\label{graphics_8c_ac5f6cb648c8526ce941a28cef7fb6aa1} 
\#define {\bfseries G\+\_\+\+MAX\+\_\+\+ROW}~12
\item 
\Hypertarget{graphics_8c_a98f63375bfe6a6142a95c3a129d19c5f}\label{graphics_8c_a98f63375bfe6a6142a95c3a129d19c5f} 
\#define {\bfseries G\+\_\+\+BLOB\+\_\+\+END}~768
\item 
\Hypertarget{graphics_8c_a89a9908aea001386e64d2b2471ffda07}\label{graphics_8c_a89a9908aea001386e64d2b2471ffda07} 
\#define {\bfseries G\+\_\+\+CLEAR\+\_\+\+BUFFER\+\_\+\+CO}~48
\item 
\Hypertarget{graphics_8c_a49b4801ec4ecca0932baadffe07d994b}\label{graphics_8c_a49b4801ec4ecca0932baadffe07d994b} 
\#define {\bfseries buff}~(  (char\texorpdfstring{$\ast$}{*})\mbox{\hyperlink{graphics_8c_a2ea627d6e756dbfc4694ea0db433ba16}{G\+\_\+\+SCREEN\+\_\+\+BUFFER}}  )
\begin{DoxyCompactList}\small\item\em Use this like a variable for interacting with the screen buffer. \end{DoxyCompactList}\item 
\Hypertarget{graphics_8c_a34ae1178623830a7a8b2c06ad82759be}\label{graphics_8c_a34ae1178623830a7a8b2c06ad82759be} 
\#define {\bfseries \+\_\+\+LCD\+\_\+\+BUSY\+\_\+\+QUICK}~0x000B
\begin{DoxyCompactList}\small\item\em function to call from {\bfseries{ASM}} to wait required amount of time between screen calls \end{DoxyCompactList}\item 
\Hypertarget{graphics_8c_a0312cb6d6cbc719075d4e5380c387ab3}\label{graphics_8c_a0312cb6d6cbc719075d4e5380c387ab3} 
\#define {\bfseries XMAX}~96
\begin{DoxyCompactList}\small\item\em Width of screen in pixels. \end{DoxyCompactList}\item 
\Hypertarget{graphics_8c_a610d6ad95b18966b70b6845de2a9c56b}\label{graphics_8c_a610d6ad95b18966b70b6845de2a9c56b} 
\#define {\bfseries YMAX}~64
\begin{DoxyCompactList}\small\item\em Height of screen in pixels. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{graphics_8c_a20bbd4d45e3f01305dd709f5a9cc9952}{clear\+Buffer}} ()
\begin{DoxyCompactList}\small\item\em clears screen buffer as defined by G\+\_\+\+SCREEN\+\_\+\+BUFFER If you wish to redefine the screen size you muse set multiple \#defines before you include this file. You can find an example of this in examples/2048/main.\+c \end{DoxyCompactList}\item 
\Hypertarget{graphics_8c_a07bca8cc0cfca0e80cac16305cac9f13}\label{graphics_8c_a07bca8cc0cfca0e80cac16305cac9f13} 
void {\bfseries swap} ()
\begin{DoxyCompactList}\small\item\em fast enough way to display SCREEN\+\_\+\+BUFFER on lcd See the scoreboard in examples/2048/main.\+c for redefining the location of the screen \end{DoxyCompactList}\item 
void \mbox{\hyperlink{graphics_8c_af9395be22fea2203f30c59b8be653c14}{line}} (char x, char y, char x2, char y2) \+\_\+\+\_\+naked
\begin{DoxyCompactList}\small\item\em Draw a line between any 2 valid points. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{graphics_8c_abb95569c1cc36c678574d4ee8486ef65}{vertical\+\_\+line}} (char x, char start, char height, char not\+\_\+used) \+\_\+\+\_\+naked
\begin{DoxyCompactList}\small\item\em Quick verticle line drawing routine. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{graphics_8c_a463706520b4764bf2273330592c8d05c}{vertical\+\_\+dotted\+\_\+line}} (char x, char start, char height, char not\+\_\+used) \+\_\+\+\_\+naked
\begin{DoxyCompactList}\small\item\em Quick dotted verticle line drawing routine. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{graphics_8c_a03dd9e1f7e1bbc7f9537acb869b339d7}{set\+Pix}} (char x, char y)
\begin{DoxyCompactList}\small\item\em Set a pixel on the screen. \end{DoxyCompactList}\item 
\Hypertarget{graphics_8c_a03e4a9618b2b842c224b6115a4f5fe66}\label{graphics_8c_a03e4a9618b2b842c224b6115a4f5fe66} 
void {\bfseries \+\_\+\+\_\+draw\+Circle\+Segment} (char xc, char yc, char x, char y)
\begin{DoxyCompactList}\small\item\em Do not call me. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{graphics_8c_addbd291e4bf35b4b8871c344ac36a348}{circle}} (char xc, char yc, char r)
\begin{DoxyCompactList}\small\item\em Circle drawing routine. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
some useful graphics functions 

\doxysubsubsubsection*{Optional \#defines }

\doxyparagraph*{Functions enables }


\begin{DoxyItemize}
\item {\bfseries{ USE\+\_\+\+LINE}} -\/ enables \doxylink{graphics_8c_af9395be22fea2203f30c59b8be653c14}{line()}
\item {\bfseries{ USE\+\_\+\+SET\+\_\+\+PIX}} -\/ enables \doxylink{graphics_8c_a03dd9e1f7e1bbc7f9537acb869b339d7}{set\+Pix()}
\item {\bfseries{ USE\+\_\+\+CIRCLE}} -\/ enables \doxylink{graphics_8c_addbd291e4bf35b4b8871c344ac36a348}{circle()} \doxyparagraph*{Functions Disables }
\end{DoxyItemize}


\begin{DoxyItemize}
\item {\bfseries{ NO\+\_\+\+USE\+\_\+\+CLEAR}} -\/ Disables \doxylink{graphics_8c_a20bbd4d45e3f01305dd709f5a9cc9952}{clear\+Buffer()}
\item {\bfseries{ NO\+\_\+\+USE\+\_\+\+SWAP}} -\/ Disables \doxylink{graphics_8c_a07bca8cc0cfca0e80cac16305cac9f13}{swap()} \doxyparagraph*{Variables }
\end{DoxyItemize}


\begin{DoxyItemize}
\item {\bfseries{ G\+\_\+\+SCREEN\+\_\+\+BUFFER}} -\/ allows you to redefine the location of the screen buffer. This is not recommended as the default is plot\+SScreen
\item {\bfseries{ G\+\_\+\+COL\+\_\+\+START}} -\/ allows you to redefine where the screen starts drawing. Not recommended
\item {\bfseries{ G\+\_\+\+START\+\_\+\+ROW}} -\/ allows you to redefine where the screen starts drawing. Not recommended
\item {\bfseries{ G\+\_\+\+ROW\+\_\+\+END}} -\/ allows you to redefine where the screen stops drawing. Not recommended
\item {\bfseries{ G\+\_\+\+MAX\+\_\+\+ROW}} -\/ allows you to redefine where the screen stops drawing. Not recommended
\item {\bfseries{ G\+\_\+\+BLOB\+\_\+\+END}} -\/ allows you to redefine how large the screen buffer is. Could be cause errors if you redefine without changing G\+\_\+\+CLEAR\+\_\+\+BUFFER\+\_\+\+CO
\item {\bfseries{ G\+\_\+\+CLEAR\+\_\+\+BUFFER\+\_\+\+CO}} -\/ allows you to redefine the math behind \doxylink{graphics_8c_a20bbd4d45e3f01305dd709f5a9cc9952}{clear\+Buffer()}. By default is set to 48 beacuse {\bfseries{48}}\texorpdfstring{$\ast$}{*}8=384 times, @ 2 bytes a PUSH = 768 bytes
\begin{DoxyItemize}
\item {\bfseries{ XMAX}} -\/ Max x value. Not recommended. Requires changing a lot of defines
\item {\bfseries{ YMAX}} -\/ Max y value. Not recommended. Requires changing a lot of defines 
\end{DoxyItemize}
\end{DoxyItemize}

\doxysubsection{Function Documentation}
\Hypertarget{graphics_8c_addbd291e4bf35b4b8871c344ac36a348}\label{graphics_8c_addbd291e4bf35b4b8871c344ac36a348} 
\index{graphics.c@{graphics.c}!circle@{circle}}
\index{circle@{circle}!graphics.c@{graphics.c}}
\doxysubsubsection{\texorpdfstring{circle()}{circle()}}
{\footnotesize\ttfamily void circle (\begin{DoxyParamCaption}\item[{char}]{xc,  }\item[{char}]{yc,  }\item[{char}]{r }\end{DoxyParamCaption})}



Circle drawing routine. 


\begin{DoxyParams}{Parameters}
{\em \mbox{[}xc\mbox{]}} & X coord of center of the circle \\
\hline
{\em \mbox{[}yc\mbox{]}} & Y coord of center of the circle \\
\hline
{\em \mbox{[}r\mbox{]}} & Radius of the circle\\
\hline
\end{DoxyParams}
This code is quite slow as it is entirly written in c and uses the already quite slow \doxylink{graphics_8c_a03dd9e1f7e1bbc7f9537acb869b339d7}{set\+Pix()}


\footnotesize taken from \href{https://www.geeksforgeeks.org/bresenhams-circle-drawing-algorithm/}{\texttt{ https\+://www.\+geeksforgeeks.\+org/bresenhams-\/circle-\/drawing-\/algorithm/}} and modified 
\normalsize  \Hypertarget{graphics_8c_a20bbd4d45e3f01305dd709f5a9cc9952}\label{graphics_8c_a20bbd4d45e3f01305dd709f5a9cc9952} 
\index{graphics.c@{graphics.c}!clearBuffer@{clearBuffer}}
\index{clearBuffer@{clearBuffer}!graphics.c@{graphics.c}}
\doxysubsubsection{\texorpdfstring{clearBuffer()}{clearBuffer()}}
{\footnotesize\ttfamily void clear\+Buffer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



clears screen buffer as defined by G\+\_\+\+SCREEN\+\_\+\+BUFFER If you wish to redefine the screen size you muse set multiple \#defines before you include this file. You can find an example of this in examples/2048/main.\+c 


\footnotesize Taken from \href{https://taricorp.gitlab.io/83pa28d/lesson/day10.html}{\texttt{ https\+://taricorp.\+gitlab.\+io/83pa28d/lesson/day10.\+html}}
\normalsize  \Hypertarget{graphics_8c_af9395be22fea2203f30c59b8be653c14}\label{graphics_8c_af9395be22fea2203f30c59b8be653c14} 
\index{graphics.c@{graphics.c}!line@{line}}
\index{line@{line}!graphics.c@{graphics.c}}
\doxysubsubsection{\texorpdfstring{line()}{line()}}
{\footnotesize\ttfamily void line (\begin{DoxyParamCaption}\item[{char}]{x,  }\item[{char}]{y,  }\item[{char}]{x2,  }\item[{char}]{y2 }\end{DoxyParamCaption})}



Draw a line between any 2 valid points. 


\begin{DoxyParams}{Parameters}
{\em \mbox{[}x\mbox{]}} & First x coord (between 0-\/XMAX) \\
\hline
{\em \mbox{[}x\mbox{]}} & First y coord (between 0-\/YMAX) \\
\hline
{\em \mbox{[}x2\mbox{]}} & Secound x coord (between 0-\/XMAX) \\
\hline
{\em \mbox{[}y2\mbox{]}} & Secound y coord (between 0-\/YMAX)\\
\hline
\end{DoxyParams}
Draws a line onto G\+\_\+\+SCREEN\+\_\+\+BUFFER between (x, y) and (x2, y2)


\footnotesize taken from \href{https://wikiti.brandonw.net/index.php?title=Z80_Routines:Graphic:LineDraw}{\texttt{ https\+://wikiti.\+brandonw.\+net/index.\+php?title=\+Z80\+\_\+\+Routines\+:\+Graphic\+:\+Line\+Draw}} and adapted for sdcc, should be quite fast
\normalsize  \Hypertarget{graphics_8c_a03dd9e1f7e1bbc7f9537acb869b339d7}\label{graphics_8c_a03dd9e1f7e1bbc7f9537acb869b339d7} 
\index{graphics.c@{graphics.c}!setPix@{setPix}}
\index{setPix@{setPix}!graphics.c@{graphics.c}}
\doxysubsubsection{\texorpdfstring{setPix()}{setPix()}}
{\footnotesize\ttfamily void set\+Pix (\begin{DoxyParamCaption}\item[{char}]{x,  }\item[{char}]{y }\end{DoxyParamCaption})}



Set a pixel on the screen. 


\begin{DoxyParams}{Parameters}
{\em \mbox{[}x\mbox{]}} & the x value to draw at (0-\/XMAX) \\
\hline
{\em \mbox{[}y\mbox{]}} & the y value to draw at (0-\/YMAX) It ain\textquotesingle{}t fast, and it ain\textquotesingle{}t pretty, but it works.\\
\hline
\end{DoxyParams}
TODO\+: rewite in a quicker asm implementation \Hypertarget{graphics_8c_a463706520b4764bf2273330592c8d05c}\label{graphics_8c_a463706520b4764bf2273330592c8d05c} 
\index{graphics.c@{graphics.c}!vertical\_dotted\_line@{vertical\_dotted\_line}}
\index{vertical\_dotted\_line@{vertical\_dotted\_line}!graphics.c@{graphics.c}}
\doxysubsubsection{\texorpdfstring{vertical\_dotted\_line()}{vertical\_dotted\_line()}}
{\footnotesize\ttfamily void vertical\+\_\+dotted\+\_\+line (\begin{DoxyParamCaption}\item[{char}]{x,  }\item[{char}]{start,  }\item[{char}]{height,  }\item[{char}]{not\+\_\+used }\end{DoxyParamCaption})}



Quick dotted verticle line drawing routine. 


\begin{DoxyParams}{Parameters}
{\em \mbox{[}x\mbox{]}} & the x value to draw at (0-\/XMAX) \\
\hline
{\em \mbox{[}start\mbox{]}} & the y value to start at (0-\/YMAX-\/1) \\
\hline
{\em \mbox{[}height\mbox{]}} & How long the line should be (1-\/YMAX) \\
\hline
{\em \mbox{[}not\+\_\+used\mbox{]}} & Can be anything, this value is just discarded. Odd number byte params require more instructions than Even number params\\
\hline
\end{DoxyParams}
Quickly draws a dotted verticle line onto G\+\_\+\+SCREEN\+\_\+\+BUFFER \Hypertarget{graphics_8c_abb95569c1cc36c678574d4ee8486ef65}\label{graphics_8c_abb95569c1cc36c678574d4ee8486ef65} 
\index{graphics.c@{graphics.c}!vertical\_line@{vertical\_line}}
\index{vertical\_line@{vertical\_line}!graphics.c@{graphics.c}}
\doxysubsubsection{\texorpdfstring{vertical\_line()}{vertical\_line()}}
{\footnotesize\ttfamily void vertical\+\_\+line (\begin{DoxyParamCaption}\item[{char}]{x,  }\item[{char}]{start,  }\item[{char}]{height,  }\item[{char}]{not\+\_\+used }\end{DoxyParamCaption})}



Quick verticle line drawing routine. 


\begin{DoxyParams}{Parameters}
{\em \mbox{[}x\mbox{]}} & the x value to draw at (0-\/XMAX) \\
\hline
{\em \mbox{[}start\mbox{]}} & the y value to start at (0-\/YMAX-\/1) \\
\hline
{\em \mbox{[}height\mbox{]}} & How long the line should be (1-\/YMAX) \\
\hline
{\em \mbox{[}not\+\_\+used\mbox{]}} & Can be anything, this value is just discarded. Odd number byte params require more instructions than Even number params\\
\hline
\end{DoxyParams}
Quickly draws a verticle line onto G\+\_\+\+SCREEN\+\_\+\+BUFFER 