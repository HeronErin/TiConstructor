\doxysection{lib/essentials.c File Reference}
\hypertarget{essentials_8c}{}\label{essentials_8c}\index{lib/essentials.c@{lib/essentials.c}}


This should be \#included in all files.  


{\ttfamily \#include "{}ti83plus.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{Indent}\textbf{ Global omni-\/present constants}\par
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{essentials_8c_a2729ab5166820ef85f4c3a4a50c49c8e}{a\+SaveA}}~.db \#0x08
\begin{DoxyCompactList}\small\item\em ex af, af\textquotesingle{} \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{essentials_8c_a3f8cba501b7f79c5bb0dad8a633f8f8a}{SP\+\_\+\+STORE}}~0x980C
\begin{DoxyCompactList}\small\item\em Stack pointer temp. \end{DoxyCompactList}\item 
\Hypertarget{essentials_8c_a6a5942c7d60a6c2a59372f8fde03658a}\label{essentials_8c_a6a5942c7d60a6c2a59372f8fde03658a} 
\#define {\bfseries sprite\+Temp}~0x84\+F3
\begin{DoxyCompactList}\small\item\em Also used for storing the stack pointer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ function macros}\par
\begin{DoxyCompactItemize}
\item 
\Hypertarget{essentials_8c_aceb70c1ed7e11f0863a868704f02214b}\label{essentials_8c_aceb70c1ed7e11f0863a868704f02214b} 
\#define {\bfseries clear\+Screen}()~\mbox{\hyperlink{essentials_8c_a68264b1743db602f8233757550b88f09}{bcall}}(\+\_\+\+Clr\+LCDFull)
\begin{DoxyCompactList}\small\item\em Clears the screen. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{essentials_8c_a68264b1743db602f8233757550b88f09}{bcall}}(\+\_\+\+\_\+\+LABEL\+\_\+\+\_\+)
\begin{DoxyCompactList}\small\item\em Call System routine. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{essentials_8c_a129499a7680583fc58a699bbb1aca61d}{abcall}}(\+\_\+\+\_\+\+LABEL\+\_\+\+\_\+)
\begin{DoxyCompactList}\small\item\em The asm for a bcall. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{essentials_8c_a00779d8b864708d1f7091c47e1e87c64}{last\+Pressed\+Key}}()~(\texorpdfstring{$\ast$}{*}(char\texorpdfstring{$\ast$}{*})(kbd\+Scan\+Code))
\begin{DoxyCompactList}\small\item\em Get last pressed key. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{essentials_8c_a5b6c33a910bc2747fbf14cfec775f11c}{scan\+Keys}}()~\mbox{\hyperlink{essentials_8c_a68264b1743db602f8233757550b88f09}{bcall}}(\+\_\+kdb\+Scan)
\begin{DoxyCompactList}\small\item\em Scan for pressed keys. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ Safe Memory Areas}\par
\begin{DoxyCompactItemize}
\item 
\Hypertarget{essentials_8c_a96109672f0e8545baf4faf9ab4574343}\label{essentials_8c_a96109672f0e8545baf4faf9ab4574343} 
\#define {\bfseries saferam1}~0x9872
\begin{DoxyCompactList}\small\item\em 768 bytes (APDRAM) \end{DoxyCompactList}\item 
\Hypertarget{essentials_8c_ac16ec4c70efc5252f43679ed11a348b8}\label{essentials_8c_ac16ec4c70efc5252f43679ed11a348b8} 
\#define {\bfseries saferam2}~0x8\+A3A
\begin{DoxyCompactList}\small\item\em 531 bytes (stat\+RAM) \end{DoxyCompactList}\item 
\Hypertarget{essentials_8c_aaed5ef70437a2d0bbf4aad296521e8d3}\label{essentials_8c_aaed5ef70437a2d0bbf4aad296521e8d3} 
\#define {\bfseries saferam3}~0x8508
\begin{DoxyCompactList}\small\item\em 128 bytes (text\+Mem) \end{DoxyCompactList}\item 
\Hypertarget{essentials_8c_a068b742df6def2627d3fa3275f84dc8d}\label{essentials_8c_a068b742df6def2627d3fa3275f84dc8d} 
\#define {\bfseries saferam4}~0x8478
\begin{DoxyCompactList}\small\item\em 66 bytes (Op registers, use with caution) \end{DoxyCompactList}\item 
\Hypertarget{essentials_8c_a9099cbf3a5987f95a0f104c9f170cfc9}\label{essentials_8c_a9099cbf3a5987f95a0f104c9f170cfc9} 
\#define {\bfseries saferam5}~0x8251
\begin{DoxyCompactList}\small\item\em 8 bytes (boot\+Temp) \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}


\doxysubsection{Detailed Description}
This should be \#included in all files. 

This file \#defines all required constants, and loads in "{}ti83plus.\+h"{} for other constantss that are needed. Only defines stuff at compile time, no real function, no extra bytes. 

\doxysubsection{Macro Definition Documentation}
\Hypertarget{essentials_8c_a129499a7680583fc58a699bbb1aca61d}\label{essentials_8c_a129499a7680583fc58a699bbb1aca61d} 
\index{essentials.c@{essentials.c}!abcall@{abcall}}
\index{abcall@{abcall}!essentials.c@{essentials.c}}
\doxysubsubsection{\texorpdfstring{abcall}{abcall}}
{\footnotesize\ttfamily \#define abcall(\begin{DoxyParamCaption}\item[{}]{\+\_\+\+\_\+\+LABEL\+\_\+\+\_\+ }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ rst\ 40\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ .dw\ \_\_LABEL\_\_}

\end{DoxyCode}


The asm for a bcall. 

\Hypertarget{essentials_8c_a2729ab5166820ef85f4c3a4a50c49c8e}\label{essentials_8c_a2729ab5166820ef85f4c3a4a50c49c8e} 
\index{essentials.c@{essentials.c}!aSaveA@{aSaveA}}
\index{aSaveA@{aSaveA}!essentials.c@{essentials.c}}
\doxysubsubsection{\texorpdfstring{aSaveA}{aSaveA}}
{\footnotesize\ttfamily \#define a\+SaveA~.db \#0x08}



ex af, af\textquotesingle{} 

Machine code to swap af and shadow af and only takes 4 t-\/states, only use in asm ~\newline
 \Hypertarget{essentials_8c_a68264b1743db602f8233757550b88f09}\label{essentials_8c_a68264b1743db602f8233757550b88f09} 
\index{essentials.c@{essentials.c}!bcall@{bcall}}
\index{bcall@{bcall}!essentials.c@{essentials.c}}
\doxysubsubsection{\texorpdfstring{bcall}{bcall}}
{\footnotesize\ttfamily \#define bcall(\begin{DoxyParamCaption}\item[{}]{\+\_\+\+\_\+\+LABEL\+\_\+\+\_\+ }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \_\_asm\ rst\ 40\ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ .dw\ \_\_LABEL\_\_\ \_\_endasm}

\end{DoxyCode}


Call System routine. 

Preforms a \href{https://wikiti.brandonw.net/index.php?title=83Plus:OS:How_BCALLs_work}{\texttt{ bcall}} while in C. {\bfseries{ And keep in mind that a bcall might modify registers, meaning that any bcall can corrupt any C variable }} For most bcall values click \href{https://wikiti.brandonw.net/index.php?title=Category:83Plus:BCALLs:By_Name}{\texttt{ here}}, or see \href{https://ia600606.us.archive.org/16/items/83psdk/83psysroutines.pdf}{\texttt{ TI\textquotesingle{}s system routines document}} \Hypertarget{essentials_8c_a00779d8b864708d1f7091c47e1e87c64}\label{essentials_8c_a00779d8b864708d1f7091c47e1e87c64} 
\index{essentials.c@{essentials.c}!lastPressedKey@{lastPressedKey}}
\index{lastPressedKey@{lastPressedKey}!essentials.c@{essentials.c}}
\doxysubsubsection{\texorpdfstring{lastPressedKey}{lastPressedKey}}
{\footnotesize\ttfamily \#define last\+Pressed\+Key(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})~(\texorpdfstring{$\ast$}{*}(char\texorpdfstring{$\ast$}{*})(kbd\+Scan\+Code))}



Get last pressed key. 

Rrequires \doxylink{essentials_8c_a5b6c33a910bc2747fbf14cfec775f11c}{scan\+Keys()} with custom interupts \Hypertarget{essentials_8c_a5b6c33a910bc2747fbf14cfec775f11c}\label{essentials_8c_a5b6c33a910bc2747fbf14cfec775f11c} 
\index{essentials.c@{essentials.c}!scanKeys@{scanKeys}}
\index{scanKeys@{scanKeys}!essentials.c@{essentials.c}}
\doxysubsubsection{\texorpdfstring{scanKeys}{scanKeys}}
{\footnotesize\ttfamily \#define scan\+Keys(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})~\mbox{\hyperlink{essentials_8c_a68264b1743db602f8233757550b88f09}{bcall}}(\+\_\+kdb\+Scan)}



Scan for pressed keys. 

Manually scan for pressed key, only needed with custom interupts \Hypertarget{essentials_8c_a3f8cba501b7f79c5bb0dad8a633f8f8a}\label{essentials_8c_a3f8cba501b7f79c5bb0dad8a633f8f8a} 
\index{essentials.c@{essentials.c}!SP\_STORE@{SP\_STORE}}
\index{SP\_STORE@{SP\_STORE}!essentials.c@{essentials.c}}
\doxysubsubsection{\texorpdfstring{SP\_STORE}{SP\_STORE}}
{\footnotesize\ttfamily \#define SP\+\_\+\+STORE~0x980C}



Stack pointer temp. 

Used to store the stack pointer in several functions, if you are writing some assembly, feel free to use this. But not for long-\/term storage as it is writen to by multiple functions. 